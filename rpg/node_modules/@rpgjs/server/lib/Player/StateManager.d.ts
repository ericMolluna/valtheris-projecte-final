import { ItemFixture } from './ItemFixture';
import { RpgPlayer } from './Player';
type StateClass = {
    new (...args: any[]): any;
};
export declare class StateManager {
    states: any[];
    _statesEfficiency: {
        rate: number;
        state: any;
    }[];
    /**
     * Recovers the player's states defense on inventory.  This list is generated from the `statesDefense` property defined on the weapons or armors equipped.
     * If several items have the same element, only the highest rate will be taken into account.
     *
     * ```ts
     * import { Armor, State } from '@rpgjs/server'
     *
     * @State({
     *      name: 'Paralyze'
     * })
     * class Paralyze {}
     *
     * @Armor({
     *      name: 'Shield',
     *      statesDefense: [{ rate: 1, state: Paralyze }]
     * })
     * class Shield {}
     *
     * @Armor({
     *      name: 'FireShield',
     *      statesDefense: [{ rate: 0.5, state: Paralyze }]
     * })
     * class FireShield {}
     *
     * player.addItem(Shield)
     * player.addItem(FireShield)
     * player.equip(Shield)
     * player.equip(FireShield)
     *
     * console.log(player.statesDefense) // [{ rate: 1, state: instance of Paralyze }]
     * ```
     * @title Get States Defense
     * @prop {Array<{ rate: number, state: StateClass}>} player.statesDefense
     * @readonly
     * @memberof StateManager
     * */
    get statesDefense(): {
        rate: number;
        state: any;
    }[];
    /**
     * Set or retrieves all the states where the player is vulnerable or not.
     *
     * ```ts
     * import { Class, State } from '@rpgjs/server'
     *
     * @State({
     *      name: 'Paralyze'
     * })
     * class Paralyze {}
     *
     * @State({
     *      name: 'Sleep'
     * })
     * class Sleep {}
     *
     * @Class({
     *      name: 'Fighter',
     *      statesEfficiency: [{ rate: 1, state: Paralyze }]
     * })
     * class Hero {}
     *
     * player.setClass(Hero)
     *
     * console.log(player.statesEfficiency) // [{ rate: 1, instance of Paralyze }]
     *
     * player.statesEfficiency = [{ rate: 2, state: Sleep }]
     *
     * console.log(player.statesEfficiency) // [{ rate: 1, state: instance of Paralyze }, { rate: 2, state: instance of Sleep }]
     * ```
     * @title Set/Get States Efficiency
     * @prop {Array<{ rate: number, state: StateClass}>} player.statesEfficiency
     * @memberof StateManager
     * */
    get statesEfficiency(): {
        rate: number;
        state: any;
    }[];
    set statesEfficiency(val: {
        rate: number;
        state: any;
    }[]);
    applyStates(player: RpgPlayer, { addStates, removeStates }: {
        addStates: any;
        removeStates: any;
    }): void;
    /**
     * Get a state to the player. Returns `null` if the state is not present on the player
     * ```ts
     * import Paralyze from 'your-database/states/paralyze'
     *
     * player.getState(Paralyze)
     *  ```
     *
     * @title Get State
     * @method player.getState(stateClass)
     * @param {StateClass | string} stateClass or state id
     * @returns {instance of StateClass | null}
     * @memberof StateManager
     */
    getState(stateClass: StateClass | string): any;
    /**
     * Adds a state to the player. Set the chance between 0 and 1 that the state can apply
     * ```ts
     * import Paralyze from 'your-database/states/paralyze'
     *
     * try {
     *      player.addState(Paralyze)
     * }
     * catch (err) {
     *      console.log(err)
     * }
     *  ```
     *
     * @title Add State
     * @method player.addState(stateClass,chance=1)
     * @param {StateClass | string} stateClass state class or state id
     * @param {number} [chance] 1 by default
     * @throws {StateLog} addFailed
     * If the chance to add the state has failed (defined with the `chance` param)
     *  ```
     * {
     *      id: ADD_STATE_FAILED,
     *      msg: '...'
     * }
     * ```
     * @returns {instance of StateClass}
     * @memberof StateManager
     * @todo
     */
    addState(stateClass: StateClass | string, chance?: number): object | null;
    /**
     * Remove a state to the player. Set the chance between 0 and 1 that the state can be removed
     * ```ts
     * import Paralyze from 'your-database/states/paralyze'
     *
     * try {
     *      player.removeState(Paralyze)
     * }
     * catch (err) {
     *      console.log(err)
     * }
     *  ```
     *
     * @title Remove State
     * @method player.removeState(stateClass,chance=1)
     * @param {StateClass|string} stateClass class state or state id
     * @param {number} [chance] 1 by default
     * @throws {StateLog} removeFailed
     * If the chance to remove the state has failed (defined with the `chance` param)
     *  ```
     * {
     *      id: REMOVE_STATE_FAILED,
     *      msg: '...'
     * }
     * ```
     * @throws {StateLog} notApplied
     * If the status does not exist
     *  ```
     * {
     *      id: STATE_NOT_APPLIED,
     *      msg: '...'
     * }
     * ```
     * @returns {instance of StateClass}
     * @memberof StateManager
     */
    removeState(stateClass: StateClass | string, chance?: number): void;
    private findStateEfficiency;
}
export interface StateManager extends ItemFixture {
    databaseById(stateClass: any): any;
}
export {};
