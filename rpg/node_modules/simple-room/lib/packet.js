import msgpack from 'msgpack-lite';
export class Packet {
    constructor(data, roomId) {
        this.data = data;
        this.roomId = roomId;
    }
    get body() {
        return this.data;
    }
    message(otherData) {
        return [this.roomId, Date.now(), otherData ?? this.data];
    }
    clone(data) {
        return new Packet(data, this.roomId);
    }
    encode(otherData) {
        return msgpack.encode(this.message(otherData));
    }
}
//# sourceMappingURL=packet.js.map